# TrendRadar AI科技配置优化方案

## 📋 配置概览

**目标**: 聚焦AI科技领域,每天在 8:00、12:00、17:00、22:00 推送热点新闻

**修改时间**: 2025-11-11

---

## ✅ 已完成的配置修改

### 1. config.yaml 修改

#### 1.1 推送模式优化
```yaml
# 修改前
report:
  mode: "daily"

# 修改后
report:
  mode: "current"  # current模式更适合多次推送,实时追踪热点
```

**原因**:
- `daily` 模式显示当日所有匹配新闻,适合每天推送1次的场景
- `current` 模式显示当前榜单匹配新闻,更适合每天推送4次,实时追踪最新热点

#### 1.2 推送时间窗口配置
```yaml
# 修改前
push_window:
  enabled: false
  time_range:
    start: "20:00"
    end: "22:00"
  once_per_day: true

# 修改后
push_window:
  enabled: true  # 启用推送时间窗口控制
  time_range:
    start: "08:00"  # 早上8点开始
    end: "22:00"    # 晚上10点结束
  once_per_day: false  # 允许窗口内多次推送
```

**配置说明**:
- ✅ 限制推送时间在 8:00-22:00 之间,避免深夜打扰
- ✅ `once_per_day: false` 允许窗口内多次推送
- ✅ 配合 crawler.yml 实现精准的 4 次推送时间

---

### 2. crawler.yml 修改

#### 2.1 定时任务优化
```yaml
# 修改前
schedule:
  - cron: "0 * * * *"  # 每小时整点运行一次

# 修改后
schedule:
  - cron: "0 0,4,9,14 * * *"  # 每天4次精准推送
```

**时间对照表**:
| UTC时间 | 北京时间 | 说明 |
|---------|----------|------|
| 0:00 | 8:00 | 早晨推送 - 了解夜间重要新闻 |
| 4:00 | 12:00 | 午间推送 - 上午热点汇总 |
| 9:00 | 17:00 | 傍晚推送 - 下午重要动态 |
| 14:00 | 22:00 | 睡前推送 - 全天总结回顾 |

**为什么选择这4个时间点?**
- 📊 **8:00**: 开始一天工作前,了解昨夜到今晨的重要科技新闻
- 🍽️ **12:00**: 午休时间,浏览上午的热点动态
- 🌆 **17:00**: 下班前,掌握下午的重要科技进展
- 🌙 **22:00**: 睡前阅读,回顾全天科技热点

---

## 🎯 AI科技关键词优化建议

### 当前 frequency_words.txt 分析

#### ✅ 已包含的AI相关关键词
```
DeepSeek, 梁文锋
chatgpt, openai, sora
claude, Anthropic
ai, 人工智能
谷歌, google, gemini, deepmind
微软, Microsoft
英伟达, NVIDIA, 黄仁勋
机器人, 自动驾驶
```

#### 💡 建议补充的AI关键词

##### 1️⃣ AI模型与产品
```
# 大语言模型
Llama
Mistral
通义千问
文心一言
Kimi
豆包
智谱
GLM

# AI应用
midjourney
stable diffusion
runway
pika
kling
可灵

# AI编程
copilot
cursor
github copilot
codeium
tabnine
```

##### 2️⃣ AI公司与研究机构
```
# 国内AI公司
百川智能
月之暗面
MiniMax
阶跃星辰
零一万物
面壁智能
衔远科技

# 国际AI公司
Anthropic
Meta AI
xAI
Perplexity
Cohere
Mistral AI

# 研究机构
清华
北大
中科院
MIT
斯坦福
CMU
```

##### 3️⃣ AI技术术语
```
# 核心技术
大模型
多模态
AGI
端侧AI
边缘计算
联邦学习
强化学习
transformer
diffusion

# 应用领域
智能客服
AI绘画
AI视频
AI音乐
AI代码
AI搜索
具身智能
```

##### 4️⃣ AI硬件与基础设施
```
# 芯片
H100
A100
TPU
昇腾
寒武纪
壁仞
摩尔线程

# 算力
算力
GPU
超算
算力中心
智算中心
```

##### 5️⃣ AI政策与行业
```
# 政策监管
AI监管
AI安全
AI伦理
AI法规

# 行业应用
AI医疗
AI教育
AI金融
AI制造
AI能源
```

---

## 📝 完整的关键词配置示例

### 方案A: 精准AI科技聚焦(推荐)
如果你只想关注核心AI科技新闻,可以创建专门的AI词组:

```txt
# ====== AI核心词组 ======
# 大语言模型
chatgpt
openai
sora
claude
Anthropic
gemini
deepmind
DeepSeek
通义千问
文心一言
Kimi
豆包
Llama
Mistral

# AI应用
AI
人工智能
大模型
多模态
AGI
机器学习
深度学习
!AI手机  # 过滤掉AI手机等非核心新闻

# ====== AI公司词组 ======
# 国内
百川智能
月之暗面
阶跃星辰
零一万物
智谱

# 国际
OpenAI
Anthropic
Meta AI
xAI
Perplexity

# ====== AI硬件词组 ======
英伟达
NVIDIA
黄仁勋
H100
A100
昇腾
寒武纪
算力
GPU
TPU

# ====== 保留原有科技词组 ======
华为
鸿蒙
任正非
特斯拉
马斯克
微软
谷歌
芯片
科技
```

### 方案B: 广泛科技+重点AI(平衡)
保留原有科技关键词,同时加强AI领域关注:

```txt
# ====== AI重点监控词组 ======
AI
人工智能
chatgpt
openai
claude
gemini
deepmind
DeepSeek
大模型
多模态
AGI
+机器学习  # 必须同时包含"机器学习"
!AI手机

# ====== 其他科技保持原有配置 ======
华为
鸿蒙
比亚迪
特斯拉
... (保持原有配置)
```

---

## ⚙️ 配置生效步骤

### 第1步: 验证配置文件
```bash
# 检查 config.yaml 语法
cat config/config.yaml | grep -A 10 "push_window"

# 检查 crawler.yml
cat .github/workflows/crawler.yml | grep "cron"
```

预期输出:
```yaml
# config.yaml
push_window:
  enabled: true
  time_range:
    start: "08:00"
    end: "22:00"
  once_per_day: false

# crawler.yml
- cron: "0 0,4,9,14 * * *"
```

### 第2步: 配置通知渠道
在 GitHub Settings → Secrets 中配置你选择的通知方式:

**推荐配置** (选择其一):
- 🟢 **企业微信** (`WEWORK_WEBHOOK_URL`) - 最简单,微信直接接收
- 🟢 **Telegram** (`TELEGRAM_BOT_TOKEN` + `TELEGRAM_CHAT_ID`) - 国际化,稳定
- 🟡 **飞书** (`FEISHU_WEBHOOK_URL`) - 功能丰富,配置稍复杂
- 🟡 **邮件** (`EMAIL_FROM`, `EMAIL_PASSWORD`, `EMAIL_TO`) - 适合邮箱归档

### 第3步: 优化关键词配置
编辑 `config/frequency_words.txt`:

1. 备份原有配置
2. 根据上面的"方案A"或"方案B"修改
3. 保存并提交到 GitHub

### 第4步: 手动测试
**重要**: 配置完成后,不要等待定时任务!立即测试:

1. 进入你的 GitHub 仓库
2. 点击 `Actions` → `Hot News Crawler`
3. 点击 `Run workflow` → `Run workflow` (绿色按钮)
4. 等待 1-2 分钟,检查你的通知渠道

### 第5步: 验证推送时间
检查 GitHub Actions 执行历史:
- 应该在每天的 8:00, 12:00, 17:00, 22:00 (北京时间) 附近执行
- ⚠️ GitHub Actions 有几分钟延迟是正常的,不会精确到秒

---

## 🔍 预期效果

### 推送频率
- **推送次数**: 每天 4 次
- **推送时间**: 8:00, 12:00, 17:00, 22:00 (北京时间)
- **推送内容**: 当前榜单的 AI 科技热点新闻

### 内容聚焦度
使用方案A(精准AI聚焦):
- ✅ **高相关**: AI模型发布、AI公司动态、AI技术突破
- ✅ **中相关**: AI硬件、AI政策、AI应用
- ❌ **低相关**: 手机、汽车等非AI科技新闻(除非与AI直接相关)

使用方案B(广泛科技+重点AI):
- ✅ 保留所有科技新闻
- ✅ AI相关新闻优先级更高
- ✅ 更全面但信息量更大

---

## ⚠️ 注意事项

### 1. GitHub Actions 限制
- **免费额度**: 每月 2000 分钟
- **当前配置**: 每天 4 次 × 约 2 分钟 = 8 分钟/天 = 240 分钟/月
- **资源占用**: 约 12% 免费额度,非常安全 ✅

### 2. 推送时间精确度
- GitHub Actions 有延迟,实际推送时间可能前后偏差 5-15 分钟
- 如需精确到分钟,建议使用 Docker 部署到自己的服务器

### 3. 关键词优化建议
- **初期**: 先使用广泛关键词,观察 1-2 周
- **调整**: 根据推送内容的相关性,逐步添加过滤词 `!`
- **精简**: 如果信息过载,可以删除不太关心的词组

### 4. 推送模式选择
| 模式 | 适用场景 | 优点 | 缺点 |
|------|----------|------|------|
| **current** (已配置) | 实时追踪热点 | 紧跟榜单变化,热点敏感 | 可能重复推送同一新闻 |
| daily | 每日汇总 | 内容完整,不重复 | 不够实时 |
| incremental | 只看新增 | 避免重复,信息精简 | 可能错过重要持续热点 |

**建议**: 先使用 `current` 模式运行 1 周,如果觉得重复太多,可以改为 `incremental`

---

## 📊 监控与优化

### 每周检查清单
- [ ] 推送时间是否准确? (Actions 执行历史)
- [ ] 新闻相关度如何? (>80% 相关为优)
- [ ] 是否有重要新闻遗漏?
- [ ] 是否有大量无关新闻?

### 优化方向
**如果相关度低** (<60%):
1. 添加必须词 `+` 限定范围
2. 添加过滤词 `!` 排除干扰
3. 缩小关键词范围

**如果遗漏重要新闻**:
1. 扩大关键词范围
2. 检查是否被过滤词误杀
3. 添加新兴公司和产品名称

**如果信息过载**:
1. 改用 `incremental` 模式
2. 提高 `rank_threshold` (只看排名更高的)
3. 减少关键词数量

---

## 🎯 总结

### ✅ 已完成
1. ✅ 推送时间配置: 8:00, 12:00, 17:00, 22:00
2. ✅ 推送模式优化: current 模式,实时追踪
3. ✅ 时间窗口限制: 8:00-22:00,避免深夜打扰
4. ✅ AI关键词建议: 提供完整优化方案

### 📋 待执行
1. 在 GitHub Secrets 配置通知渠道 webhook
2. 优化 `frequency_words.txt` 关键词(选择方案A或B)
3. 手动运行测试,验证配置
4. 观察 1 周效果,根据实际情况微调

### 🚀 下一步
运行 1 周后,可以考虑:
- 根据推送内容质量,微调关键词
- 如果 GitHub Actions 延迟明显,考虑 Docker 部署
- 添加多个通知渠道,实现备份推送
- 使用 GitHub Pages 功能,随时在网页查看历史新闻

---

## 📞 问题排查

### Q1: 没有收到推送?
1. 检查 GitHub Actions 是否成功执行
2. 检查 Secrets 配置是否正确
3. 检查是否在推送时间窗口内 (8:00-22:00)
4. 手动运行测试,查看错误日志

### Q2: 推送时间不准确?
GitHub Actions 延迟是正常的,可能前后偏差 5-15 分钟。如需精确,使用 Docker 部署。

### Q3: 推送内容太少?
1. 检查 `frequency_words.txt` 关键词是否太严格
2. 检查是否使用了太多必须词 `+`
3. 尝试扩大关键词范围

### Q4: 推送内容不相关?
1. 添加过滤词 `!` 排除干扰
2. 使用必须词 `+` 限定范围
3. 参考上面的"方案A: 精准AI聚焦"

---

**配置完成时间**: 2025-11-11
**配置目标**: AI科技热点追踪,每天4次精准推送
**预期效果**: 实时掌握AI领域最新动态,避免信息过载
